---
- hosts: all
  connection: local
  gather_facts: no
  become_user: root
  become_method: su
   
  tasks:
     - name: update the system
       yum:
         name: "*"
         state: latest
         
     - name: ensure wget is installed
       yum:
         name: wget
         state: present
         update_cache: true
         
     - name: install redis on RHEL based distros
       yum:
         name: ansible
         state: present
         update_cache: true
       when: ansible_os_family == 'RedHat'
